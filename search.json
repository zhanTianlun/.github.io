[{"title":"【项目总结】p2p项目个人总结","url":"/2019/07/14/hello-world/","content":"## 1.p2p项目分几个部分?3天实现了哪些功能?\n\n### (后台页面的登录与退出:)\n\n#### \ta.后台管理的登录\n\n​\t\t1.创建包结构,导入jar包,导入从c3p0文件,修改c3p0的配置\n\n​\t\t2.将html文件转换成jsp文件,修改jsp页面中的配置路径\n\n​\t\t3.编写创建servlet文件,service文件和dao文件\n\n​\t\t4.创建user类和user表相对应\n\n​\t\t5.在servlet中获取请求方式,创建一个login方法\n\n​\t\t6.在login方法中接受用户名和密码\n\n​\t\t7.进行非空校验,如果为空,页面重定向\n\n​\t\t8.调用service层,编写login方法,传入用户名和密码的参数\n\n​\t\t9.创建jdbcutils工具\n\n​\t\t10.调用dao层,连接数据库根据用户名和密码查询user,将得到user结果返回\n\n​\t\t11.判断user是否为空,将数据存到request,页面跳转或者重定向\n\n​\t\t12.在login.jsp显示存入的错误信息\n\n#### \tb.登录的过滤\n\n​\t\t1.把home.jsp文件放到views路径下\n\n​\t\t2.创建index.jsp文件\n\n​\t\t3.创建一个filter过滤器\n\n​\t\t4.在过滤器中获取session中的user\n\n​\t\t5.判断user是否为空,为空表示未登录,页面重定向\n\n​\t\t6.不为空表示已登录,放行\n\n​\t\t7.在xml中配置filter\n\n#### \tc.用户退出\n\n​\t\t1.在退出按钮前面添加显示user的名称\n\n​\t\t2.在home.jsp中给按钮标签添href属性传入参数method=logout,添加onclick事件\n\n​\t\t3.在userservlet中接受method参数,编写logout方法\n\n​\t\t4.在logout方法中销毁session,然后页面重定向\n\n\n\n### (产品的增加与修改:)\n\n#### \td.产品的查询\n\n​\t\t1.创建product类,与表相对应\n\n​\t\t2.创建home.js,在home.jsp导入js\n\n​\t\t3.在home.js中编写查询所有产品的函数,页面加载完成后执行函数\n\n​\t\t4.在函数中,向服务器发送请求,传入method参数\n\n​\t\t5.编写productservlet页面\n\n​\t\t6.接受method参数,执行查询所有的方法\n\n​\t\t7.在方法中,调用service层,执行查询的方法,返回一个list集合\n\n​\t\t8.在service中调用dao层\n\n​\t\t9.在DAO层中,查询数据库,将结果以list集合形式返回\n\n​\t\t10.在js页面接受返回的list集合！\n\n​\t\t11.编写展示产品信息的js代码\n\n#### \te.产品的添加,之查询产品信息\n\n​\t\t1.给新增产品按钮添加click事件,绑定添加产品的函数\n\n​\t\t2.copy代码,在函数中弹出添加产品的层\n\n​\t\t3.在函数中,给弹出层的表格添加click事件\n\n​\t\t4.在click事件中调用serialize方法封装表格中的数据\n\n​\t\t5.向服务器发送请求\n\n​\t\t6.在servlet中接受请求方式,编写add的方法\n\n​\t\t7.在add方法中,创建product对象\n\n​\t\t8.使用beanutils封装数据到product对象\n\n​\t\t9.调用service层执行添加产品的方法\n\n​\t\t10.调用dao层,连接数据库向product表中插入数据\n\n#### f.产品的修改,先查询产品信息,展示到弹出层\n\n​\t\t1.给编辑的a标签添加click事件,绑定修改产品的函数\n\n​\t\t2.在函数中,先修改弹出的层标题和按钮\n\n​\t\t3.在函数中,根据点击编辑的id,向服务器发送请求,传入id和根据id查产品采的方法参数\n\n​\t\t4.接受method参数,执行根据id查询的方法\n\n​\t\t5.调用service层,调用dao层查询产品信息,将数据返回\n\n​\t\t6.给弹出层的每个input添加id,将返回的数据显示在input中\n\n​\t\t7.在添加产品的函数中将input中的内容清空\n\n​\t\t8.给修改按钮绑定click事件,点击按钮,触发函数\n\n​\t\t9.在函数中将input中的内容封装打包,携带id的参数\n\n​\t\t10.向服务器发送请求,传入参数,method=editproduct\n\n​\t\t11.在servlet中接受参数,创建product对象,使用beautils工具封装数据到product对象中\n\n​\t\t12.调用service和dao层,编写editproduct方法\n\n​\t\t13.在修改按钮绑定的函数中,先将弹出层关闭\n\n​\t\t14.重新执行查询所有产品的函数,产品信息改变说明产品信息修改成功\n\n#### g.一些BUG的修改\n\n​\t\t\t1.在新增产品的按钮绑定点击事件之间先解绑\n\n​\t\t\t2.在编辑按钮绑定点击事件之间先解绑\n\n\n\n### (前台页面的登录:)\n\n#### \ta.验证码的显示与点击切换\n\n​\t\t1.复制文件到utils里面,配置servlet\n\n​\t\t2.在login.html验证码的后面添加img标签和href属性,取一个id\n\n​\t\t3.在img标签里面添加click函数\n\n​\t\t4.在customer.js里面编写函数,导入js\n\n​\t\t5.取到id然后attr设置src属性\n\n#### \tb.点击立即登录按钮,进行登录\n\n​\t\t1.在input框里添加name属性,给按钮注册onclick事件\n\n​\t\t2.在js页面,编写login函数\n\n​\t\t3.把输入框的数据封装在json里面\n\n​\t\t4.向服务器发送请求\n\n#### \tc.servlet里面的登录操作\n\n​\t\t1.接受三个参数\n​\t\t2.判断验证码\n​\t\t2.1从session中取到checkcode\n​\t\t2.2判断两个checkcode\n​\t\t3.调用service层,执行login方法\n​\t\t4.创建customer对象\n​\t\t5.把customer对象存入到session中\n​\t\t6.判读是不是空\n​\t\t7.创建jsonResout对象 \n\n​\t\t8.设置type和error,并写会到浏览器\n\n\n\n#### \td.用户输入邮箱也可以登录\n\n​\t\t1.在掉serivce层之前判断录入的是不是邮箱的正则\n​\t\t2.如果是的,调用findbyemail方法,查到用户对象\n​\t\t3.把c_name设置成c.getc_name;\n​\t\t4.导入StringUtils文件\n​\t\t5.在添加表数据和登录的时候,调用stringUtils的MD5方法加密文件\n​\t\t6.在数据库中也对密码进行加密\n\n​\t\t7.设置password的字段为50\n\n​\t\t"}]